#include "keval.h"
#include "oled.h"
const uint16_t PROGMEM keymaps[][MATRIX_ROWS][MATRIX_COLS] = {
    [_DHORF] = LAYOUT_34key_w(HRM(LAYER_DHORF))

    ,[_ALT] = LAYOUT_34key_w(HRM(LAYER_ALT))

    ,[_QWERTY] = LAYOUT_34key_w(HRM(LAYER_QWERTY))

    ,[_COMBOREF] = LAYOUT_34key_w(LAYER_COMBOREF)

    ,[_NAV] = LAYOUT_34key_w(LAYER_NAV)

    ,[_SYM] = LAYOUT_34key_w(LAYER_SYM)

    ,[_MERG] = LAYOUT_34key_w(LAYER_MERG)

    ,[_NUML] = LAYOUT_34key_w(LAYER_NUML)

    ,[_NUMR] = LAYOUT_34key_w(LAYER_NUMR)

    ,[_FUN] = LAYOUT_34key_w(LAYER_FUN)
};

bool process_record_keymap(uint16_t keycode, keyrecord_t *record) {
    return true;
};
//oled code here
#ifdef OLED_ENABLE

// Rotate OLED
oled_rotation_t oled_init_user(oled_rotation_t rotation) {
    return OLED_ROTATION_270; //default rotate is 90 or idk, but my display assem is upside down so I need 270
}

// Draw to OLED
bool oled_task_user() {
    // Set cursor position
    oled_set_cursor(0, 1);

    // Define image array
    static const char image [] PROGMEM = {
		0x00, 0x00, 0x00, 0x00, 0x00, 0x00, //this is legendary Tom Platz pose
		0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
		0x80, 0x80, 0x80, 0x80, 0xC0, 0xC0,
		0xC0, 0x80, 0xC0, 0xC0, 0xC0, 0xC0,
		0xC0, 0x80, 0x80, 0x80, 0x00, 0x00,
		0x00, 0x00, 0x00, 0x00, 0x00, 0x80,
		0x80, 0xC0, 0xF0, 0xF8, 0xFC, 0xFE,
		0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF,
		0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF,
		0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xF7,
		0x8F, 0xFE, 0xF8, 0xC0, 0xC0, 0xF4,
		0xFE, 0xFF, 0xFF, 0xBF, 0xBF, 0x1F,
		0x1F, 0x3F, 0x7F, 0x7F, 0xFF, 0xFF,
		0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF,
		0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF,
		0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF,
		0x00, 0x04, 0xF1, 0xD1, 0x01, 0x03,
		0x03, 0x02, 0x00, 0x40, 0xC0, 0xC0,
		0xC0, 0xC1, 0x80, 0x01, 0x83, 0x03,
		0x03, 0x07, 0x07, 0x0F, 0x0F, 0x0F,
		0x0F, 0x07, 0x03, 0x83, 0x83, 0x01,
		0x09, 0x03, 0x00, 0x80, 0xA0, 0xF0,
		0x70, 0x78, 0x78, 0xB8, 0x38, 0x1E,
		0x78, 0x70, 0x60, 0x40, 0x00, 0x80,
		0x81, 0x80, 0xE0, 0xF0, 0xF0, 0x20,
		0x80, 0x00, 0x00, 0x01, 0x00, 0x01,
		0x01, 0x00, 0x00, 0x00, 0xFF, 0xFF,
		0xFF, 0xFF, 0x00, 0x00, 0x00, 0x00,
		0x00, 0x00, 0x00, 0x00, 0x00, 0xF0,
		0xD8, 0x01, 0x03, 0x03, 0x07, 0x07,
		0x07, 0x03, 0x03, 0x00, 0x00, 0xC8,
		0xC0, 0x80, 0x00, 0x00, 0x00, 0x00,
		0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xF0,
		0xE0, 0xC0, 0xC0, 0x80, 0x00, 0x00,
		0x00, 0x01, 0x03, 0x03, 0x06, 0x02,
		0x00, 0x00, 0x00, 0x00, 0x00, 0xE0,
		0xE8, 0xE1, 0xC7, 0xDF, 0xFF, 0xFF,
		0xFE, 0xFC, 0xFF, 0xFF, 0xFF, 0xFF,
		0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF,
		0xFF, 0xFE, 0xFC, 0xF8, 0xC0, 0xE0,
		0xE0, 0xE0, 0xE0, 0xF8, 0xFC, 0xFE,
		0xFE, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF,
		0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xF7,
		0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF,
		0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF,
		0xFF, 0xEF, 0xFF, 0xFF, 0xFF, 0xFF,
		0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF,
		0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF,
		0x5F, 0x9F, 0xBF, 0x7F, 0x3F, 0x5F,
		0x7F, 0x7F, 0xDF, 0x1F, 0x17, 0x0B,
		0x0F, 0x07, 0x01, 0x01, 0x82, 0x83,
		0x01, 0x05, 0x0F, 0x4F, 0x5F, 0x7F,
		0x7F, 0x7F, 0x3F, 0x3F, 0x7F, 0x7F,
		0x7F, 0x7F, 0x80, 0x01, 0xC1, 0xC0,
		0xE0, 0xE0, 0xE0, 0xF0, 0xF0, 0xF0,
		0xF0, 0xF8, 0xF8, 0xF8, 0xF8, 0xF9,
		0xFD, 0xFD, 0xFF, 0xFC, 0xF8, 0xF8,
		0xF8, 0xB0, 0x80, 0x80, 0x80, 0x00,
		0x00, 0x00, 0x00, 0x00, 0x0F, 0x1F,
		0x9F, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF,
		0xFF, 0xFB, 0xFB, 0xFD, 0xFD, 0xF8,
		0xFB, 0xF3, 0x77, 0x17, 0x07, 0x0F,
		0x1F, 0x0F, 0x0F, 0x0F, 0x1F, 0x1F,
		0x1F, 0x1F, 0x0F, 0x1C, 0x00, 0x00,
		0x00, 0x00, 0x00, 0x01, 0x01, 0x01,
		0x81, 0x81, 0x81, 0x81, 0x81, 0x81,
		0x01, 0x01, 0x01, 0x01, 0x00, 0x00,
		0x00, 0x00, 0x1C, 0x0C, 0x1C, 0x1C,
		0x0E, 0x06, 0x06, 0x06, 0x00, 0x00,
		0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
		0x00, 0x01, 0x03, 0x03, 0x83, 0x03,
		0x01, 0x01, 0x01, 0x01, 0x00, 0x18,
		0x18, 0x1C, 0x78, 0x78, 0x78, 0x30,
		0x10, 0x20, 0x00, 0x00, 0x00, 0x00,
		0x00, 0x00, 0x00, 0x00, 0xC4, 0xE4,
		0xE8, 0xFC, 0xFE, 0xFE, 0xFE, 0xFC,
		0xFC, 0xFC, 0xFC, 0xFD, 0xFC, 0xFE,
		0xFE, 0xFE, 0xFC, 0xFC, 0xFC, 0xF8,
		0xF8, 0xFC, 0xE8, 0xE8, 0xE0, 0xE0,
		0xE8, 0xE0, 0xEC, 0xFE, 0xFE, 0xE2,
    };

    // Draw image to Oled
    oled_write_raw_P(image, sizeof(image));

    return false;
}
#endif